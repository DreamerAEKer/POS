<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ร้านชำ POS (Grocery POS)</title>

    <!-- Google Fonts: Sarabun (Modern Thai font, readable) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icons: Material Symbols Rounded -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />

    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/print.css" media="print">
</head>

<body>
    <div id="app">
        <!-- Sidebar Navigation -->
        <nav id="sidebar">
            <div class="brand">
                <span class="material-symbols-rounded logo-icon">storefront</span>
                <h1>ร้านชำ</h1>
            </div>

            <ul class="nav-menu">
                <li class="nav-item active" data-view="pos">
                    <span class="material-symbols-rounded">point_of_sale</span>
                    <span>ขายสินค้า</span>
                </li>
                <li class="nav-item" data-view="stock">
                    <span class="material-symbols-rounded">inventory_2</span>
                    <span>สต็อก</span>
                </li>
                <li class="nav-item" data-view="suppliers">
                    <span class="material-symbols-rounded">local_shipping</span>
                    <span>ร้านส่ง</span>
                </li>
                <li class="nav-item" id="btn-check-price">
                    <span class="material-symbols-rounded">price_check</span>
                    <span>เช็คราคา</span>
                </li>
            </ul>

            <ul class="nav-menu" style="flex:0; margin-bottom:10px;">
                <li class="nav-item" data-view="settings">
                    <span class="material-symbols-rounded">settings</span>
                    <span>ตั้งค่า</span>
                </li>
            </ul>

            <div class="nav-footer">
                <button id="btn-parked-carts" class="secondary-btn">
                    <span class="material-symbols-rounded">shopping_basket</span>
                    พักบิล <span id="parked-count" class="badge">0</span>
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main id="main-content">
            <!-- Top Bar -->
            <header class="top-bar">
                <div class="search-container">
                    <span class="material-symbols-rounded">search</span>
                    <input type="text" id="global-search" placeholder="ค้นหา / สแกนบาร์โค้ด..." inputmode="text"
                        autofocus>
                    <button id="btn-scan-trigger" class="icon-btn">
                        <span class="material-symbols-rounded">qr_code_scanner</span>
                    </button>
                </div>
                <div class="status-indicators">
                    <div class="date-time" id="clock">12:00</div>
                </div>
            </header>

            <!-- Dynamic View Container -->
            <div id="view-container">
                <!-- Views will be injected here by JS -->
            </div>
        </main>

        <!-- Right Panel (Cart / Details) -->
        <aside id="right-panel">
            <!-- Cart View -->
            <div id="cart-panel">
                <div class="cart-header">
                    <h2>ตะกร้าสินค้า</h2>
                    <button class="icon-btn dangerous" id="btn-clear-cart">
                        <span class="material-symbols-rounded">delete</span>
                    </button>
                </div>

                <div class="cart-items" id="cart-items-container">
                    <!-- Cart Items go here -->
                    <div class="empty-state">
                        <span class="material-symbols-rounded">shopping_cart_off</span>
                        <p>ยังไม่มีสินค้า</p>
                    </div>
                </div>

                <div class="cart-footer">
                    <div class="summary-row">
                        <span>รวมเงิน</span>
                        <span class="total-price" id="cart-total">0.00</span>
                    </div>
                    <div class="action-buttons">
                        <button id="btn-park-cart" class="secondary-btn">พักบิล</button>
                        <button id="btn-checkout" class="primary-btn">รับเงิน</button>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Modals -->
    <div id="modal-overlay" class="hidden">
        <div id="price-check-modal" class="modal hidden">
            <!-- Price Check Content -->
        </div>
        <div id="payment-modal" class="modal hidden">
            <!-- Payment Content -->
        </div>
        <div id="product-modal" class="modal hidden">
            <!-- Add/Edit Product Content -->
        </div>
    </div>

    <!-- Hidden Receipt for Printing -->
    <div id="receipt-print-area"></div>

    <!-- Scripts (Order matters for file:// compatibility without modules) -->
    <script src="js/utils.js"></script>
    <script src="js/db.js"></script>
    <script src="js/app.js"></script>
</body>

</html>